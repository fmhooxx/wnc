{"version":3,"sources":["webpack:///C:/Users/方明号/Desktop/shop/main.js","webpack:///C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue?cc2b","webpack:///C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue?fcb3","webpack:///C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue?10ed","webpack:///C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue?11a6","webpack:///C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue"],"names":["createPage","Page","data","latitude","longitude","covers","iconPath","onLoad","isGetLocation","methods","getAuthorizeInfo","a","uni","authorize","scope","success","getLocationInfo","fail","console","log","getLocation","type","res","toString","request","header","url","re","statusCode","errCode","showToast","title","duration","icon","getSetting","authSetting"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,qH;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;;;AAG5D;AACgL;AAChL,gBAAgB,yLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8pB,CAAgB,mrBAAG,EAAC,C;;;;;;;;;;;;mICAlrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACbC,MADa,kBACN;AACL,WAAO;AACL;AACAC,cAAQ,EAAE,IAFL;AAGL;AACAC,eAAS,EAAE,IAJN;AAKL;AACAC,YAAM,EAAE;AACN;AACEF,gBAAQ,EAAE,IADZ;AAEEC,iBAAS,EAAE,IAFb;AAGEE,gBAAQ,EAAE,6BAHZ,EADM;;AAMN;AACEH,gBAAQ,EAAE,IADZ;AAEEC,iBAAS,EAAE,MAFb;AAGEE,gBAAQ,EAAE,yBAHZ,EANM,CANH,EAAP;;;;AAmBD,GArBY;AAsBbC,QAtBa,oBAsBJ;AACP,SAAKC,aAAL;AACD,GAxBY;AAyBbC,SAAO,EAAE;AACPC,oBADO,8BACoC,sBAA1BC,CAA0B,uEAAtB,oBAAsB;AACzC;AACAC,SAAG,CAACC,SAAJ,CAAc;AACZC,aAAK,EAAEH,CADK;AAEZI,eAAO,EAAE,mBAAM;AACb;AACA,eAAI,CAACC,eAAL;AACD,SALW;AAMZC,YANY,kBAML;AACL;AACAC,iBAAO,CAACC,GAAR,CAAY,iBAAZ;AACD,SATW,EAAd;;AAWD,KAdM;;AAgBPH,mBAhBO,6BAgBW;AAChB;AACAJ,SAAG,CAACQ,WAAJ,CAAgB;AACdC,YAAI,EAAE,OADQ;AAEdN,eAAO,EAAE,iBAAAO,GAAG,EAAI;AACd;AACA;AACAJ,iBAAO,CAACC,GAAR,CAAY,aAAaG,GAAG,CAAClB,SAA7B;AACAc,iBAAO,CAACC,GAAR,CAAY,aAAaG,GAAG,CAACnB,QAA7B;AACA,gBAAI,CAACA,QAAL,GAAgBmB,GAAG,CAACnB,QAApB;AACA,gBAAI,CAACC,SAAL,GAAiBkB,GAAG,CAAClB,SAArB;AACA,gBAAI,CAACC,MAAL,CAAY,CAAZ,EAAeF,QAAf,GAA0BmB,GAAG,CAACnB,QAA9B;AACA,gBAAI,CAACE,MAAL,CAAY,CAAZ,EAAeD,SAAf,GAA2BkB,GAAG,CAAClB,SAA/B;AACA,cAAID,QAAJ,EAAcC,SAAd;AACAD,kBAAQ,GAAGmB,GAAG,CAACnB,QAAJ,CAAaoB,QAAb,EAAX;AACAnB,mBAAS,GAAGkB,GAAG,CAAClB,SAAJ,CAAcmB,QAAd,EAAZ;AACAX,aAAG,CAACY,OAAJ,CAAY;AACVC,kBAAM,EAAE;AACN,8BAAgB,kBADV,EADE;;AAIVC,eAAG;AACD;AACAvB,oBADA;AAEA,eAFA;AAGAC,qBAHA;AAIA,sDATQ;AAUVW,mBAVU,mBAUFY,EAVE,EAUE;AACVT,qBAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,qBAAO,CAACC,GAAR,CAAYQ,EAAZ;AACA,kBAAIA,EAAE,CAACC,UAAH,KAAkB,GAAtB,EAA2B;AACzBV,uBAAO,CAACC,GAAR,CAAY,cAAZ;AACD,eAFD,MAEO;AACLD,uBAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,aAlBS,EAAZ;;AAoBD,SAlCa;AAmCdF,YAAI,EAAE,cAAAK,GAAG,EAAI;AACXJ,iBAAO,CAACC,GAAR,CAAYG,GAAZ;AACA,cAAIA,GAAG,CAACO,OAAJ,IAAe,CAAnB,EAAsB;AACpBjB,eAAG,CAACkB,SAAJ,CAAc;AACZC,mBAAK,EAAE,SADK;AAEZC,sBAAQ,EAAE,IAFE;AAGZC,kBAAI,EAAE,MAHM,EAAd;;AAKD;AACF,SA5Ca,EAAhB;;AA8CD,KAhEM;;AAkEPzB,iBAlEO,2BAkEiC,uBAA1BG,CAA0B,uEAAtB,oBAAsB;AACtC;AACAC,SAAG,CAACsB,UAAJ,CAAe;AACbnB,eAAO,EAAE,iBAAAO,GAAG,EAAI;AACd;AACA;AACA,cAAI,CAACA,GAAG,CAACa,WAAJ,CAAgBxB,CAAhB,CAAL,EAAyB;AACvB;AACA,kBAAI,CAACD,gBAAL;AACD,WAHD,MAGO;AACL,kBAAI,CAACM,eAAL;AACD;AACD;;AAEA;AACD,SAbY,EAAf;;AAeD,KAnFM,EAzBI,E","file":"pages/indexLocation/indexLocation.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/indexLocation/indexLocation.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./indexLocation.vue?vue&type=template&id=5a8655bc&scoped=true&\"\nvar renderjs\nimport script from \"./indexLocation.vue?vue&type=script&lang=js&\"\nexport * from \"./indexLocation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a8655bc\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5a8655bc')) {\n      api.createRecord('5a8655bc', component.options)\n    } else {\n      api.reload('5a8655bc', component.options)\n    }\n    module.hot.accept(\"./indexLocation.vue?vue&type=template&id=5a8655bc&scoped=true&\", function () {\n      api.rerender('5a8655bc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"C:/Users/方明号/Desktop/shop/pages/indexLocation/indexLocation.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./indexLocation.vue?vue&type=template&id=5a8655bc&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./indexLocation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./indexLocation.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 中心纬度\r\n      latitude: null,\r\n      // 中心经度\r\n      longitude: null,\r\n      // 标记点\r\n      covers: [\r\n        {\r\n          latitude: null,\r\n          longitude: null,\r\n          iconPath: \"/static/images/posi-red.png\"\r\n        },\r\n        {\r\n          latitude: 39.9,\r\n          longitude: 116.39,\r\n          iconPath: \"/static/images/posi.png\"\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  onLoad() {\r\n    this.isGetLocation();\r\n  },\r\n  methods: {\r\n    getAuthorizeInfo(a = \"scope.userLocation\") {\r\n      //1. uniapp弹窗弹出获取授权（地理，个人微信信息等授权信息）弹窗\r\n      uni.authorize({\r\n        scope: a,\r\n        success: () => {\r\n          //1.1 允许授权\r\n          this.getLocationInfo();\r\n        },\r\n        fail() {\r\n          //1.2 拒绝授权\r\n          console.log(\"你拒绝了授权，无法获得周边信息\");\r\n        }\r\n      });\r\n    },\r\n\r\n    getLocationInfo() {\r\n      //2. 获取地理位置\r\n      uni.getLocation({\r\n        type: \"wgs84\",\r\n        success: res => {\r\n          // console.log(\"你当前经纬度是：\");\r\n          // console.log(res);\r\n          console.log(\"当前位置的经度：\" + res.longitude);\r\n          console.log(\"当前位置的纬度：\" + res.latitude);\r\n          this.latitude = res.latitude;\r\n          this.longitude = res.longitude;\r\n          this.covers[0].latitude = res.latitude;\r\n          this.covers[0].longitude = res.longitude;\r\n          let latitude, longitude;\r\n          latitude = res.latitude.toString();\r\n          longitude = res.longitude.toString();\r\n          uni.request({\r\n            header: {\r\n              \"Content-Type\": \"application/text\"\r\n            },\r\n            url:\r\n              \"http://apis.map.qq.com/ws/geocoder/v1/?location=\" +\r\n              latitude +\r\n              \",\" +\r\n              longitude +\r\n              \"&key=MVGBZ-R2U3U-W5CVY-2PQID-AT4VZ-PDF35\",\r\n            success(re) {\r\n              console.log(\"中文位置\");\r\n              console.log(re);\r\n              if (re.statusCode === 200) {\r\n                console.log(\"获取中文街道地理位置成功\");\r\n              } else {\r\n                console.log(\"获取信息失败，请重试！\");\r\n              }\r\n            }\r\n          });\r\n        },\r\n        fail: res => {\r\n          console.log(res);\r\n          if (res.errCode == 2) {\r\n            uni.showToast({\r\n              title: \"请您打开GPS\",\r\n              duration: 3000,\r\n              icon: \"none\"\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    isGetLocation(a = \"scope.userLocation\") {\r\n      // 3. 检查当前是否已经授权访问scope属性，参考下截图\r\n      uni.getSetting({\r\n        success: res => {\r\n          // console.log(res.authSetting);\r\n          // console.log(res);\r\n          if (!res.authSetting[a]) {\r\n            //3.1 每次进入程序判断当前是否获得授权，如果没有就去获得授权，如果获得授权，就直接获取当前地理位置\r\n            this.getAuthorizeInfo();\r\n          } else {\r\n            this.getLocationInfo();\r\n          }\r\n          // if (res.scope.userInfo) {\r\n\r\n          // }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n"],"sourceRoot":""}